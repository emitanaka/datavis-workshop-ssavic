<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Data Visualization with R   Workshop Day 2</title>
    <meta charset="utf-8" />
    <meta name="author" content="Di Cook" />
    <link href="libs/remark-css-0.0.1/ninjutsu.css" rel="stylesheet" />
    <link href="libs/font-awesome-animation-1.0/font-awesome-animation-emi.css" rel="stylesheet" />
    <script src="libs/fontawesome-5.0.13/js/fontawesome-all.min.js"></script>
    <script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
    <script src="libs/jquery-1.12.4/jquery.min.js"></script>
    <link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding-0.14/datatables.js"></script>
    <link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
    <link href="libs/countdown-0.3.5/countdown.css" rel="stylesheet" />
    <script src="libs/countdown-0.3.5/countdown.js"></script>
    <link rel="stylesheet" href="assets/animate.css" type="text/css" />
    <link rel="stylesheet" href="assets/styles2.css" type="text/css" />
    <link rel="stylesheet" href="assets/fira-code.css" type="text/css" />
    <link rel="stylesheet" href="assets/monash-brand.css" type="text/css" />
    <link rel="stylesheet" href="assets/boxes.css" type="text/css" />
    <link rel="stylesheet" href="assets/custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">





class: monash-bg-blue center middle hide-slide-number 



&lt;div class="bg-black white"  style="width:45%;right:0;bottom:0;padding-left:5px;border: solid 4px white;margin: auto;"&gt;
&lt;i class="fas fa-exclamation-circle"&gt;&lt;/i&gt; These slides are viewed best by Chrome and occasionally need to be refreshed if elements did not load properly. See here for &lt;a href=day2-session1.pdf&gt;PDF &lt;i class="fas fa-file-pdf"&gt;&lt;/i&gt;&lt;/a&gt;. 
&lt;/div&gt;


---

count: false
background-image: url(images/d2bg3.jpg)
background-size: cover
class: hide-slide-number title-slide


&lt;div class="grid-row" style="grid: 1fr / 2fr;"&gt;

.item.center[

# &lt;span style="text-shadow: 2px 2px 30px white;"&gt;Data Visualization with R &lt;br&gt; Workshop Day 2&lt;/span&gt;

&lt;!-- ## &lt;span style="color:yellow;text-shadow: 2px 2px 30px black;"&gt;Review of Grammar of Graphics&lt;/span&gt; --&gt;

]

.center.shade_black.animated.bounceInUp.slower[
&lt;br&gt;&lt;br&gt;
## &lt;span style="color: #ccf2ff; text-shadow: 10px 10px 100px white;"&gt;Review of Grammar of Graphics&lt;/span&gt;

&lt;br&gt;

Presented by Di Cook

Department of Econometrics and Business Statistics

&lt;img src="images/monash-one-line-reversed.png" style="width:500px"&gt;&lt;br&gt;
<span>&lt;i class="fas  fa-envelope faa-float animated "&gt;&lt;/i&gt;</span>  dicook@monash.edu
<span>&lt;i class="fab  fa-twitter faa-float animated faa-fast "&gt;&lt;/i&gt;</span>  @visnut

.bottom_abs.width100.bg-black[
29th July 2020 @ Statistical Society of Australia | Zoom
]


]

&lt;/div&gt;







---
class: font_smaller

# &lt;img src="https://upload.wikimedia.org/wikipedia/commons/0/06/Who_logo.svg" width="50px" style="vertical-align: middle;"&gt; Tuberculosis incidence

The TB data is from the [WHO]( https://www.who.int/tb/country/data/download/en/). 

.font_small[
<div id="htmlwidget-3460f54cbf773ef9e375" style="width:1150px;height:100px;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-3460f54cbf773ef9e375">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78"],["Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand","New Zealand"],["AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","AUS","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL","NZL"],[1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,0,null,0,0,0,2,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0,0,0,0,0,0,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,3,null,3,2,2,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,5,0,0,1,0,1,0,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,0,0,3,1,1,0,0,0,1,3,2,3,2,2,3,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,2,0,1,1,0,1,0,5,3,4,5,0,0,1,0,1,0,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,8,11,13,16,23,15,14,18,32,33,30,46,30,42,38,26,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,4,4,3,8,10,6,7,10,9,10,6,14,11,9,8,6,12,7,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,24,22,40,35,20,20,10,16,27,35,33,33,37,33,44,40,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,3,3,6,10,8,5,2,14,10,13,10,5,1,4,11,13,5,9,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,18,18,54,25,18,26,2,17,23,23,20,20,16,22,26,17,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,3,9,3,8,4,6,7,5,6,10,6,8,7,9,10,4,5,2,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,13,13,52,24,18,19,11,15,11,21,15,27,24,25,19,25,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,5,10,4,7,3,8,4,6,6,6,6,4,4,5,5,6,7,4,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,17,15,37,19,13,13,5,11,12,16,14,23,12,9,12,16,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,7,3,4,7,8,10,2,4,8,5,5,3,4,10,7,5,7,6,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,28,31,49,49,35,34,30,32,30,43,37,42,34,27,37,37,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,7,12,7,4,15,7,12,10,9,16,10,7,8,18,10,11,11,14,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0,0,0,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0,0,0,0,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,0,null,1,1,2,0,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,1,1,0,0,2,1,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,4,null,3,3,1,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,0,0,0,2,2,2,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,2,0,0,1,0,0,0,2,2,4,3,4,4,3,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,2,0,0,1,1,3,1,7,0,1,1,1,1,0,2,4,3,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,10,19,10,15,21,15,9,6,18,18,26,27,31,36,26,27,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,2,6,4,11,6,6,9,15,18,10,11,12,14,8,6,12,8,4,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,15,24,16,19,27,21,13,17,26,27,37,32,27,43,40,48,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,3,9,6,6,7,6,14,8,8,15,9,12,7,13,10,7,8,8,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,9,15,18,12,16,15,3,5,11,14,20,14,14,12,23,15,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,4,3,5,8,2,5,3,4,1,4,6,12,8,9,5,6,4,2,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,5,8,6,15,7,6,5,7,10,7,12,6,12,2,7,11,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,2,6,2,2,3,0,1,3,10,4,6,3,6,3,5,5,5,3,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,10,2,2,5,8,4,4,3,6,9,7,11,11,5,7,9,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,2,3,5,4,0,4,3,5,4,1,1,6,6,3,7,3,3,1,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,12,24,26,14,20,23,7,19,14,21,23,10,12,12,17,15,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,4,13,7,5,1,10,5,3,5,13,2,4,4,9,5,6,8,5,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0,0,0,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0,0,0,0,null,null,null,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>country<\/th>\n      <th>iso3<\/th>\n      <th>year<\/th>\n      <th>new_sp_m04<\/th>\n      <th>new_sp_m514<\/th>\n      <th>new_sp_m014<\/th>\n      <th>new_sp_m1524<\/th>\n      <th>new_sp_m2534<\/th>\n      <th>new_sp_m3544<\/th>\n      <th>new_sp_m4554<\/th>\n      <th>new_sp_m5564<\/th>\n      <th>new_sp_m65<\/th>\n      <th>new_sp_mu<\/th>\n      <th>new_sp_f04<\/th>\n      <th>new_sp_f514<\/th>\n      <th>new_sp_f014<\/th>\n      <th>new_sp_f1524<\/th>\n      <th>new_sp_f2534<\/th>\n      <th>new_sp_f3544<\/th>\n      <th>new_sp_f4554<\/th>\n      <th>new_sp_f5564<\/th>\n      <th>new_sp_f65<\/th>\n      <th>new_sp_fu<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
]

&lt;div class="tag center animated rubberBand" style="position:absolute;top:2%;left:12%;transform:rotate(-3deg);"&gt;
demo data for today
&lt;/div&gt;

---
class: myquestion middle

- Is the data in tidy form?
--

- What are the variables in this data?
--

- How many variables are there?
--

country (name, iso3), year, sex, age

---
class: center
#  &lt;img src="https://upload.wikimedia.org/wikipedia/commons/0/06/Who_logo.svg" width="50px" style="vertical-align: middle;"&gt; Tidying the data

.font_small[
<div id="htmlwidget-d27b78a6302bed994d3f" style="width:1150px;height:100px;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-d27b78a6302bed994d3f">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192"],["Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia","Australia"],[1997,1997,1997,1997,1997,1997,1997,1997,1997,1997,1997,1997,1998,1998,1998,1998,1998,1998,1998,1998,1998,1998,1998,1998,1999,1999,1999,1999,1999,1999,1999,1999,1999,1999,1999,1999,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2000,2001,2001,2001,2001,2001,2001,2001,2001,2001,2001,2001,2001,2002,2002,2002,2002,2002,2002,2002,2002,2002,2002,2002,2002,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2004,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2005,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2006,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2007,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2009,2009,2009,2009,2009,2009,2009,2009,2009,2009,2009,2009,2010,2010,2010,2010,2010,2010,2010,2010,2010,2010,2010,2010,2011,2011,2011,2011,2011,2011,2011,2011,2011,2011,2011,2011,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012,2012],["15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-","15-24","25-34","35-44","45-54","55-64","65-"],["m","m","m","m","m","m","f","f","f","f","f","f","m","m","m","m","m","m","f","f","f","f","f","f","m","m","m","m","m","m","f","f","f","f","f","f","m","m","m","m","m","m","f","f","f","f","f","f","m","m","m","m","m","m","f","f","f","f","f","f","m","m","m","m","m","m","f","f","f","f","f","f","m","m","m","m","m","m","f","f","f","f","f","f","m","m","m","m","m","m","f","f","f","f","f","f","m","m","m","m","m","m","f","f","f","f","f","f","m","m","m","m","m","m","f","f","f","f","f","f","m","m","m","m","m","m","f","f","f","f","f","f","m","m","m","m","m","m","f","f","f","f","f","f","m","m","m","m","m","m","f","f","f","f","f","f","m","m","m","m","m","m","f","f","f","f","f","f","m","m","m","m","m","m","f","f","f","f","f","f","m","m","m","m","m","m","f","f","f","f","f","f"],[8,24,18,13,17,28,10,15,9,5,10,12,11,22,18,13,15,31,19,24,15,8,2,24,13,40,54,52,37,49,10,16,18,6,2,26,16,35,25,24,19,49,15,19,12,15,5,14,23,20,18,18,13,35,21,27,16,7,8,20,15,20,26,19,13,34,15,21,15,6,4,23,14,10,2,11,5,30,9,13,3,5,4,7,18,16,17,15,11,32,6,17,5,7,3,19,32,27,23,11,12,30,18,26,11,10,6,14,33,35,23,21,16,43,18,27,14,7,9,21,30,33,20,15,14,37,26,37,20,12,7,23,46,33,20,27,23,42,27,32,14,6,11,10,30,37,16,24,12,34,31,27,14,12,11,12,42,33,22,25,9,27,36,43,12,2,5,12,38,44,26,19,12,37,26,40,23,7,7,17,26,40,17,25,16,37,27,48,15,11,9,15]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>country<\/th>\n      <th>year<\/th>\n      <th>age_group<\/th>\n      <th>sex<\/th>\n      <th>count<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,5]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
]

---

.font_small[

```r
ggplot(tb_oz, aes(x = year, y = count, fill = sex)) +
* geom_bar(stat = "identity", position = "fill") +
  facet_wrap(~age_group, ncol = 6) +
  scale_fill_brewer(name = "Sex", palette = "Dark2") +
  ylab("Proportion")
```

&lt;br&gt;
&lt;br&gt;
&lt;img src="images/day2-session1/unnamed-chunk-5-1.png" width="90%" style="display: block; margin: auto;" /&gt;
]
---
#  &lt;img src="https://upload.wikimedia.org/wikipedia/commons/0/06/Who_logo.svg" width="50px" style="vertical-align: middle;"&gt; What do we learn?

- Generally, proportion is higher for males
--

- Relative proportion is higher for older males 
--

- Quite variable proportions from year to year
--

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
What don't we learn from this plot?



---

.font_small[

```r
ggplot(tb_oz, aes(x = year, y = count, colour = sex)) +
* geom_point() +
* geom_smooth(se = F) +
  facet_wrap(~age_group, ncol = 6) +
  scale_colour_brewer(name = "Sex", palette = "Dark2") 
```

&lt;br&gt;
&lt;br&gt;
&lt;img src="images/day2-session1/unnamed-chunk-7-1.png" width="90%" style="display: block; margin: auto;" /&gt;
]

---
#  &lt;img src="https://upload.wikimedia.org/wikipedia/commons/0/06/Who_logo.svg" width="50px" style="vertical-align: middle;"&gt; What do we learn?

- Generally, counts are quite varied from year to year, but relatively stable
--

- Increasing trend in counts for both males and females under 35 
--

- Counts for males almost always higher than females

--

---

.font_small[

```r
tb_oz %&gt;%
  filter(year == 2010) %&gt;%
  ggplot(aes(x = 1, y = count, fill = sex)) +
*   geom_bar(stat = "identity", position = "fill") +
    facet_wrap(~age_group, ncol = 6) +
    scale_fill_brewer(name = "Sex", palette = "Dark2") +
    xlab("") + ylab("") +
*   coord_polar(theta = "y")
```

&lt;br&gt;
&lt;br&gt;
&lt;img src="images/day2-session1/unnamed-chunk-8-1.png" width="90%" style="display: block; margin: auto;" /&gt;
]

---
#  &lt;img src="https://upload.wikimedia.org/wikipedia/commons/0/06/Who_logo.svg" width="50px" style="vertical-align: middle;"&gt; What do we learn?

In 2010,

- there were almost no 45-54 year old women with TB
--

- there were more 24-35 year old women with TB than men
--

- generally more males than females had TB

--

---
class: question middle center

How many plots should you usually do?
--

Lots


---


class: exercise middle hide-slide-number


&lt;i class="fas fa-users"&gt;&lt;/i&gt;

# &lt;i class="fas fa-code"&gt;&lt;/i&gt; Open `day2-exercise-01.Rmd`

&lt;center&gt;
<div class="countdown clock" id="timer_5f209fe1" style="right:0;bottom:0;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">15</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
&lt;/center&gt;


---



class: font_smaller
background-color: #e5e5e5

# Session Information

.scroll-350[



```r
devtools::session_info()
```

```
## ─ Session info ───────────────────────────────────────────────────────────────
##  setting  value                       
##  version  R version 4.0.1 (2020-06-06)
##  os       macOS Catalina 10.15.6      
##  system   x86_64, darwin17.0          
##  ui       X11                         
##  language (EN)                        
##  collate  en_AU.UTF-8                 
##  ctype    en_AU.UTF-8                 
##  tz       Australia/Melbourne         
##  date     2020-07-29                  
## 
## ─ Packages ───────────────────────────────────────────────────────────────────
##  package      * version    date       lib source                              
##  anicon         0.1.0      2020-06-21 [1] Github (emitanaka/anicon@0b756df)   
##  assertthat     0.2.1      2019-03-21 [2] CRAN (R 4.0.0)                      
##  backports      1.1.8      2020-06-17 [1] CRAN (R 4.0.0)                      
##  blob           1.2.1      2020-01-20 [2] CRAN (R 4.0.0)                      
##  broom          0.7.0      2020-07-09 [1] CRAN (R 4.0.1)                      
##  callr          3.4.3      2020-03-28 [2] CRAN (R 4.0.0)                      
##  cellranger     1.1.0      2016-07-27 [2] CRAN (R 4.0.0)                      
##  cli            2.0.2      2020-02-28 [2] CRAN (R 4.0.0)                      
##  colorspace     1.4-1      2019-03-18 [1] CRAN (R 4.0.2)                      
##  countdown      0.3.5      2020-07-20 [1] Github (gadenbuie/countdown@a544fa4)
##  crayon         1.3.4      2017-09-16 [2] CRAN (R 4.0.0)                      
##  crosstalk      1.1.0.1    2020-03-13 [2] CRAN (R 4.0.0)                      
##  DBI            1.1.0      2019-12-15 [2] CRAN (R 4.0.0)                      
##  dbplyr         1.4.4      2020-05-27 [2] CRAN (R 4.0.0)                      
##  desc           1.2.0      2018-05-01 [2] CRAN (R 4.0.0)                      
##  devtools       2.3.0      2020-04-10 [2] CRAN (R 4.0.0)                      
##  digest         0.6.25     2020-02-23 [2] CRAN (R 4.0.0)                      
##  dplyr        * 1.0.1      2020-07-26 [1] Github (tidyverse/dplyr@16647fc)    
##  DT             0.14       2020-06-24 [1] CRAN (R 4.0.0)                      
##  ellipsis       0.3.1      2020-05-15 [2] CRAN (R 4.0.0)                      
##  evaluate       0.14       2019-05-28 [2] CRAN (R 4.0.0)                      
##  fansi          0.4.1      2020-01-08 [2] CRAN (R 4.0.0)                      
##  farver         2.0.3.9000 2020-07-24 [1] Github (thomasp85/farver@f1bcb56)   
##  forcats      * 0.5.0      2020-03-01 [2] CRAN (R 4.0.0)                      
##  fs             1.4.2      2020-06-30 [1] CRAN (R 4.0.0)                      
##  generics       0.0.2      2018-11-29 [2] CRAN (R 4.0.0)                      
##  ggplot2      * 3.3.2      2020-06-19 [1] CRAN (R 4.0.0)                      
##  glue           1.4.1      2020-05-13 [2] CRAN (R 4.0.0)                      
##  gtable         0.3.0      2019-03-25 [2] CRAN (R 4.0.0)                      
##  haven          2.3.1      2020-06-01 [2] CRAN (R 4.0.0)                      
##  here           0.1        2017-05-28 [2] CRAN (R 4.0.0)                      
##  hms            0.5.3      2020-01-08 [2] CRAN (R 4.0.0)                      
##  htmltools      0.5.0      2020-06-16 [1] CRAN (R 4.0.0)                      
##  htmlwidgets    1.5.1      2019-10-08 [2] CRAN (R 4.0.0)                      
##  httpuv         1.5.4      2020-06-06 [2] CRAN (R 4.0.1)                      
##  httr           1.4.2      2020-07-20 [1] CRAN (R 4.0.2)                      
##  icon           0.1.0      2020-06-21 [1] Github (emitanaka/icon@8458546)     
##  jsonlite       1.7.0      2020-06-25 [1] CRAN (R 4.0.1)                      
##  knitr          1.29       2020-06-23 [1] CRAN (R 4.0.0)                      
##  labeling       0.3        2014-08-23 [2] CRAN (R 4.0.0)                      
##  later          1.1.0.1    2020-06-05 [2] CRAN (R 4.0.1)                      
##  lattice        0.20-41    2020-04-02 [2] CRAN (R 4.0.1)                      
##  lifecycle      0.2.0      2020-03-06 [1] CRAN (R 4.0.0)                      
##  lubridate      1.7.9      2020-06-08 [2] CRAN (R 4.0.1)                      
##  magrittr       1.5        2014-11-22 [2] CRAN (R 4.0.0)                      
##  Matrix         1.2-18     2019-11-27 [2] CRAN (R 4.0.1)                      
##  memoise        1.1.0      2017-04-21 [2] CRAN (R 4.0.0)                      
##  mgcv           1.8-31     2019-11-09 [2] CRAN (R 4.0.1)                      
##  mime           0.9        2020-02-04 [2] CRAN (R 4.0.0)                      
##  modelr         0.1.8      2020-05-19 [2] CRAN (R 4.0.0)                      
##  munsell        0.5.0      2018-06-12 [2] CRAN (R 4.0.0)                      
##  nlme           3.1-148    2020-05-24 [2] CRAN (R 4.0.1)                      
##  pagedown       0.10.1     2020-07-24 [1] Github (rstudio/pagedown@b93f46f)   
##  pillar         1.4.6      2020-07-10 [1] CRAN (R 4.0.1)                      
##  pkgbuild       1.1.0      2020-07-13 [2] CRAN (R 4.0.1)                      
##  pkgconfig      2.0.3      2019-09-22 [2] CRAN (R 4.0.0)                      
##  pkgload        1.1.0      2020-05-29 [2] CRAN (R 4.0.0)                      
##  prettyunits    1.1.1      2020-01-24 [2] CRAN (R 4.0.0)                      
##  processx       3.4.3      2020-07-05 [1] CRAN (R 4.0.0)                      
##  promises       1.1.1      2020-06-09 [1] CRAN (R 4.0.0)                      
##  ps             1.3.3      2020-05-08 [2] CRAN (R 4.0.0)                      
##  purrr        * 0.3.4      2020-04-17 [2] CRAN (R 4.0.0)                      
##  R6             2.4.1      2019-11-12 [2] CRAN (R 4.0.0)                      
##  RColorBrewer   1.1-2      2014-12-07 [1] CRAN (R 4.0.1)                      
##  Rcpp           1.0.5      2020-07-06 [1] CRAN (R 4.0.0)                      
##  readr        * 1.3.1      2018-12-21 [2] CRAN (R 4.0.0)                      
##  readxl         1.3.1      2019-03-13 [2] CRAN (R 4.0.0)                      
##  remotes        2.2.0      2020-07-21 [1] CRAN (R 4.0.2)                      
##  reprex         0.3.0      2019-05-16 [2] CRAN (R 4.0.0)                      
##  rlang          0.4.7      2020-07-09 [1] CRAN (R 4.0.1)                      
##  rmarkdown      2.3        2020-06-18 [1] CRAN (R 4.0.2)                      
##  rprojroot      1.3-2      2018-01-03 [2] CRAN (R 4.0.0)                      
##  rstudioapi     0.11       2020-02-07 [2] CRAN (R 4.0.0)                      
##  rvest          0.3.5      2019-11-08 [2] CRAN (R 4.0.0)                      
##  scales         1.1.1      2020-05-11 [2] CRAN (R 4.0.0)                      
##  servr          0.17       2020-05-26 [2] CRAN (R 4.0.0)                      
##  sessioninfo    1.1.1      2018-11-05 [2] CRAN (R 4.0.0)                      
##  stringi        1.4.6      2020-02-17 [2] CRAN (R 4.0.0)                      
##  stringr      * 1.4.0      2019-02-10 [2] CRAN (R 4.0.0)                      
##  testthat       2.3.2      2020-03-02 [2] CRAN (R 4.0.0)                      
##  tibble       * 3.0.3      2020-07-10 [1] CRAN (R 4.0.1)                      
##  tidyr        * 1.1.0      2020-05-20 [2] CRAN (R 4.0.0)                      
##  tidyselect     1.1.0      2020-05-11 [2] CRAN (R 4.0.0)                      
##  tidyverse    * 1.3.0      2019-11-21 [1] CRAN (R 4.0.2)                      
##  usethis        1.6.1      2020-04-29 [1] CRAN (R 4.0.2)                      
##  vctrs          0.3.2.9000 2020-07-26 [1] Github (r-lib/vctrs@df8a659)        
##  websocket      1.3.0      2020-07-05 [1] CRAN (R 4.0.2)                      
##  whisker        0.4        2019-08-28 [2] CRAN (R 4.0.0)                      
##  withr          2.2.0      2020-04-20 [2] CRAN (R 4.0.0)                      
##  xaringan       0.16       2020-03-31 [2] CRAN (R 4.0.0)                      
##  xfun           0.15       2020-06-21 [1] CRAN (R 4.0.0)                      
##  xml2           1.3.2      2020-04-23 [2] CRAN (R 4.0.0)                      
##  yaml           2.2.1      2020-02-01 [1] CRAN (R 4.0.2)                      
## 
## [1] /Users/etan0038/Library/R/4.0/library
## [2] /Library/Frameworks/R.framework/Versions/4.0/Resources/library
```
]


These slides are licensed under &lt;br&gt;&lt;center&gt;&lt;a href="https://creativecommons.org/licenses/by-sa/3.0/au/"&gt;&lt;img src="images/cc.svg" style="height:2em;"/&gt;&lt;img src="images/by.svg" style="height:2em;"/&gt;&lt;img src="images/sa.svg" style="height:2em;"/&gt;&lt;/a&gt;&lt;/center&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLanguage": "r",
"highlightLines": true,
"highlightSpans": false,
"countIncrementalSlides": false,
"slideNumberFormat": "%current%/%total%",
"navigation": {
"scroll": false,
"touch": true,
"click": false
},
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'assets/mathjax-local/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
